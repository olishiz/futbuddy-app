{"version":3,"file":"src_app_pages_public_signup_signup_module_ts.js","mappings":"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","sources":["./src/app/pages/public/signup/signup.page.html","./src/app/pages/public/signup/signup-routing.module.ts","./src/app/pages/public/signup/signup.module.ts","./src/app/pages/public/signup/signup.page.ts"],"sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar class=\\\"ion-no-border\\\">\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button text=\\\"Sign in\\\" defaultHref=\\\"/signin\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n    <div class=\\\"ion-padding ion-full-height ion-flex ion-flex-center\\\">\\r\\n\\r\\n        <div class=\\\"logo-container\\\">\\r\\n            <h1 class=\\\"logo-placeholder\\\">FutBuddy</h1>\\r\\n            <p>Sign up to enjoy all of our cool features</p>\\r\\n        </div>\\r\\n\\r\\n        <form class=\\\"form-default\\\" [formGroup]=\\\"signup_form\\\" (submit)=\\\"signUp()\\\">\\r\\n\\r\\n            <ion-list class=\\\"item-card-list\\\" lines=\\\"none\\\">\\r\\n\\r\\n                <ion-item>\\r\\n                    <ion-label color=\\\"tertiary\\\" position=\\\"stacked\\\">Name</ion-label>\\r\\n                    <ion-input formControlName=\\\"name\\\" type=\\\"text\\\" autocomplete=\\\"off\\\"\\r\\n                               placeholder=\\\"Your name\\\"></ion-input>\\r\\n                </ion-item>\\r\\n\\r\\n                <ion-item>\\r\\n                    <ion-label color=\\\"tertiary\\\" position=\\\"stacked\\\">Email</ion-label>\\r\\n                    <ion-input formControlName=\\\"email\\\" type=\\\"email\\\" autocomplete=\\\"off\\\"\\r\\n                               placeholder=\\\"Your email address\\\"></ion-input>\\r\\n                </ion-item>\\r\\n\\r\\n                <ion-item class=\\\"ion-margin-top-small\\\">\\r\\n                    <ion-label color=\\\"tertiary\\\" position=\\\"stacked\\\">Password</ion-label>\\r\\n                    <ion-input formControlName=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"Your password\\\"></ion-input>\\r\\n                </ion-item>\\r\\n\\r\\n            </ion-list>\\r\\n\\r\\n            <ion-button class=\\\"ion-margin-top\\\" type=\\\"submit\\\" expand=\\\"block\\\" color=\\\"primary\\\">\\r\\n                Sign up\\r\\n            </ion-button>\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"ion-text-center ion-margin-top\\\">\\r\\n\\r\\n            <ion-text color=\\\"medium\\\">\\r\\n                <small>By signing up to create an account, I accept FutBuddy's\\r\\n                    <a href=\\\"https://docs.google.com/document/d/176yd1FKoLXZYo448uO8-zss47EQ9ljuaX756M-IAObY/edit?usp=sharing\\\" target=\\\"_blank\\\">\\r\\n                        Terms & Conditions\\r\\n                    </a>\\r\\n                    and\\r\\n                    <a href=\\\"https://docs.google.com/document/d/1rnCh_X1zBIJcypzwh3G2axpfBqYirPAoKM2uXfoGQrg/edit?usp=sharing\\\" target=\\\"_blank\\\">\\r\\n                        Privacy Policy\\r\\n                    </a>\\r\\n                </small>\\r\\n            </ion-text>\\r\\n\\r\\n            <br>\\r\\n\\r\\n            <ion-text color=\\\"medium\\\">\\r\\n                <small>&copy; {{current_year}} FutBuddy</small>\\r\\n            </ion-text>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SignupPage } from './signup.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SignupPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SignupPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SignupPageRoutingModule } from './signup-routing.module';\r\n\r\nimport { SignupPage } from './signup.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SignupPageRoutingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [SignupPage]\r\n})\r\nexport class SignupPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ToastService } from 'src/app/services/toast/toast.service';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { addDoc, collection, collectionData, Firestore } from \"@angular/fire/firestore\";\r\nimport { IUser } from \"../../../models/user.model\";\r\n\r\n@Component({\r\n    selector: 'app-signup',\r\n    templateUrl: './signup.page.html',\r\n    styleUrls: ['./signup.page.scss'],\r\n})\r\nexport class SignupPage implements OnInit {\r\n\r\n    current_year: number = new Date().getFullYear();\r\n\r\n    signup_form: FormGroup;\r\n    submit_attempt: boolean = false;\r\n\r\n    constructor(\r\n        private authService: AuthService,\r\n        private loadingController: LoadingController,\r\n        private formBuilder: FormBuilder,\r\n        private toastService: ToastService,\r\n        private router: Router,\r\n        private firestore: Firestore\r\n    ) {\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        // Setup form\r\n        this.signup_form = this.formBuilder.group({\r\n            name: [''],\r\n            email: ['', Validators.compose([Validators.email, Validators.required])],\r\n            password: ['', Validators.compose([Validators.minLength(6), Validators.required])],\r\n        });\r\n\r\n        const usersRef = collection(this.firestore, 'users');\r\n        const data = collectionData(usersRef);\r\n        console.log(data)\r\n\r\n    }\r\n\r\n    // Sign up\r\n    async signUp() {\r\n\r\n        this.submit_attempt = true;\r\n\r\n        // If email or password empty\r\n        if (this.signup_form.value.email == '' || this.signup_form.value.password == '' || this.signup_form.value.name == '') {\r\n            await this.toastService.presentToast('Error', 'Please fill in all fields', 'top', 'danger', 4000);\r\n\r\n        } else {\r\n\r\n            // Proceed with loading overlay\r\n            const loading = await this.loadingController.create({\r\n                cssClass: 'default-loading',\r\n                message: '<p>Signing up...</p><span>Please be patient.</span>',\r\n                spinner: 'crescent'\r\n            });\r\n\r\n            try {\r\n                await loading.present();\r\n\r\n                // Sign up with Firebase Authentication\r\n                const userCredential = await this.authService.signUp(this.signup_form.get('email')?.value, this.signup_form.get('password')?.value);\r\n\r\n                // Constructing userObject to be used\r\n                const userObject: IUser = {\r\n                    uid: userCredential.user.uid,\r\n                    name: this.signup_form.get('name')?.value,\r\n                    email: this.signup_form.get('email')?.value,\r\n                    password: this.signup_form.get('password')?.value,\r\n                };\r\n\r\n                // Update Profile Name into Firebase Auth object\r\n                await this.authService.updateProfileName(userObject.name)\r\n\r\n                // adding userObject into Firestore database collection named 'users'\r\n                const userRef = collection(this.firestore, 'users')\r\n                await addDoc(userRef, userObject)\r\n\r\n                await loading.dismiss();\r\n\r\n                // Success messages + routing\r\n                if (userCredential) {\r\n                    await this.toastService.presentToast(`Welcome ${userObject.name}!`, 'Successful sign up', 'top', 'success', 2000);\r\n                    await this.router.navigateByUrl('/home', {replaceUrl: true});\r\n                }\r\n            } catch (error) {\r\n                await loading.dismiss();\r\n            }\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}